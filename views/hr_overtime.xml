<odoo>
    <data>
        <!-- Overtime View -->
        <record id="true_move_new_hr_overtime_form" model="ir.ui.view">
            <field name="name">true.move.new.hr.overtime.form</field>
            <field name="model">hr.overtime</field>
            <field name="inherit_id" ref="etsi_attendance.new_hr_overtime_form"/>
            <field name="arch" type="xml">
                <!-- Add Domain field and move department field -->
                <xpath expr="//sheet/group[@name='ot_header']/group[6]" position="before">
                    <field name="domain_id_domain" invisible="True"/>
                    <field name="department_id_domain" invisible="True"/>
                </xpath>
                <xpath expr="//form/sheet/group[@name='ot_header']/group[3]/field[@name='dept_id']" position="replace"/>
                <xpath expr="//form/sheet/group[@name='ot_header']/group[6]" position="inside">
                    <field name="domain_id" domain="domain_id_domain" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True, 'no_create_edit': True}" required="True"/>
                    <field name="dept_id" domain="department_id_domain" attrs="{'readonly':[('state','!=','draft')],'required':[('ot_req_type','=','by_department')]}" options="{'no_open':True, 'no_create_edit':True, 'no_create':True}" required="True"/>
                </xpath>
            </field>
        </record>
    </data>
  </odoo>